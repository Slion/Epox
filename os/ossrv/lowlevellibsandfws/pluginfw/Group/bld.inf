// Copyright (c) 1997-2009 Nokia Corporation and/or its subsidiary(-ies).
// All rights reserved.
// This component and the accompanying materials are made available
// under the terms of "Eclipse Public License v1.0"
// which accompanies this distribution, and is available
// at the URL "http://www.eclipse.org/legal/epl-v10.html".
//
// Initial Contributors:
// Nokia Corporation - initial contribution.
//
// Contributors:
//
// Description:
// Plug-in framework component build information file.
// 
//

/**
 @file
*/


PRJ_PLATFORMS

PRJ_EXPORTS
../Framework/inc/ECom.h							SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/ecom.h)
../Framework/inc/EComErrorCodes.h				SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/ecomerrorcodes.h)
../Framework/inc/ecompanics.h				    SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/ecompanics.h)
../Framework/inc/EComResolverParams.h			SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/ecomresolverparams.h)
../Framework/inc/EComResolverParams.inl			SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/ecomresolverparams.inl)
../Framework/inc/ImplementationInformation.h	SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/implementationinformation.h)
../Framework/inc/ImplementationInformation.inl	SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/implementationinformation.inl)
../Framework/inc/ImplementationProxy.h			SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/implementationproxy.h)
../Framework/inc/PublicRegistry.h				SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/publicregistry.h)
../Framework/inc/Resolver.h						SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/resolver.h)
../Framework/inc/registryinfoconst.hrh			/epoc32/include/ecom/registryinfoconst.hrh
../Framework/inc/registryinfo.rh				SYMBIAN_OS_LAYER_PUBLIC_EXPORT_PATH(ecom/registryinfo.rh)
../Framework/inc/registryinfov2.rh				/epoc32/include/ecom/registryinfov2.rh
../Framework/inc/registryinfov3.rh				/epoc32/include/ecom/registryinfov3.rh
../Framework/inc/EComExtendedInterfaceErrorCodes.h	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/ecomextendedinterfaceerrorcodes.h)
../Framework/inc/ExtendedInterfaceImplementationProxy.h	 SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/extendedinterfaceimplementationproxy.h)


// ROM  buildsupport
../Group/ECom.iby /epoc32/rom/include/ecom.iby
../Group/ecompatchconstants.hby /epoc32/rom/include/ecompatchconstants.hby
../Group/TestBed.iby /epoc32/rom/include/testbed.iby

// Specify the files to be exported to support test bed EXEs
../Test_Bed/console_app/TestHarnessTemplate.h	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/testharnesstemplate.h)
../Test_Bed/inc/ComponentInfo.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/componentinfo.h)
../Test_Bed/inc/ComponentInfo.inl 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/componentinfo.inl)
../Test_Bed/inc/ComponentTester.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/componenttester.h)
../Test_Bed/inc/ComponentTestObserver.h SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/componenttestobserver.h)
../Test_Bed/inc/DataFormat.h 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/dataformat.h)
../Test_Bed/inc/DataLogger.h 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/datalogger.h)
../Test_Bed/inc/DefaultLogOutput.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/defaultlogoutput.h)
../Test_Bed/inc/LeakTestTransition.h 	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/leaktesttransition.h)
../Test_Bed/inc/StateAccessor.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/stateaccessor.h)
../Test_Bed/inc/TestBedDefinitions.h 	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/testbeddefinitions.h)
../Test_Bed/inc/TestController.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/testcontroller.h)
../Test_Bed/inc/TestManager.h 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/testmanager.h)
../Test_Bed/inc/TestUtilities.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/testutilities.h)
../Test_Bed/inc/Transition.h 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/transition.h)
../Test_Bed/inc/Transition.inl 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/transition.inl)
../Test_Bed/inc/TransitionObserver.h 	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/transitionobserver.h)
../Test_Bed/inc/UnitTest.h 				SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/unittest.h)
../Test_Bed/inc/UnitTest.inl 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/unittest.inl)
../Test_Bed/inc/UnitTestInfo.h 			SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/unittestinfo.h)
../Test_Bed/inc/UnitTestInfo.inl 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/unittestinfo.inl)
../Test_Bed/inc/UnitTestObserver.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/unittestobserver.h)
../Test_Bed/inc/ManagerObserver.h 		SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/test_bed/managerobserver.h)

//exporting .mk files manually for sirocco //to be removed after tools team make changes
ecom3_buildsis.mk  /epoc32/tools/makefile_templates/syslibs/test/ecom3_buildsis.mk
ecom3_postbuild.mk  /epoc32/tools/makefile_templates/syslibs/test/ecom3_postbuild.mk
ecom3_relocatetarget.mk  /epoc32/tools/makefile_templates/syslibs/test/ecom3_relocatetarget.mk

PRJ_MMPFILES
// Firstly build the plug-in framework library
../Framework/MMPFiles/EComServer.mmp

// patchable library
../Framework/MMPFiles/EComPatchData.mmp

// And the client
../Framework/MMPFiles/ECom.mmp

// Now the error resolver resources
../Framework/MMPFiles/errorrsc.mmp

//The test bed framework
../Test_Bed/MMPFiles/rtest_bed.mmp 	//RTest based version of test bed.

PRJ_TESTMMPFILES

../Framework/MMPFiles/EcomTestUtils.mmp						support
../Framework/MMPFiles/TPropertyManager.mmp					support
../Framework/MMPFiles/TPropertyManagerSrv.mmp				support
../Framework/MMPFiles/t_processfilemancopyfile.mmp			support
../Framework/MMPFiles/t_processfilemanrename.mmp			support
../Framework/MMPFiles/t_processfilemandeletefile.mmp		support
../Framework/MMPFiles/t_processrfsreplacefile.mmp			support
../Framework/MMPFiles/t_processrfsdeletefile.mmp			support
../Framework/MMPFiles/t_processrloaderdeletefile.mmp		support
../Framework/MMPFiles/t_processfilemandeletedir.mmp			support
../Framework/MMPFiles/t_processkillprocess.mmp				support
../Framework/MMPFiles/t_makefilewriteable.mmp				support
../Framework/MMPFiles/t_makefilereadonly.mmp				support
../Framework/MMPFiles/T_PlatSecEcom1.mmp					support
../Framework/MMPFiles/T_PlatSecEcom2.mmp					support
../Framework/MMPFiles/T_PlatSecEcom3.mmp					support
../Framework/MMPFiles/T_PlatSecEcom4.mmp					support
../Framework/MMPFiles/T_PlatSecResolver.mmp					support
../Framework/MMPFiles/T_PlatSecResolverC.mmp				support
../Framework/MMPFiles/T_PlatSecResolverZ.mmp				support
../Framework/MMPFiles/EComExample.mmp						support
../Framework/MMPFiles/EComExample2.mmp						support
../Framework/MMPFiles/EComRomOnlyExampleOnC.mmp				support
../Framework/MMPFiles/EComRomOnlyExampleOnZ.mmp				support
../Framework/MMPFiles/EComRomRslvrExampleOnC.mmp			support
../Framework/MMPFiles/EComRomRslvrExampleOnZ.mmp			support
../Framework/MMPFiles/Suicidal.mmp							support
../Framework/MMPFiles/EComExample3.mmp						support
../Framework/MMPFiles/EComExample4.mmp						support
../Framework/MMPFiles/EComExample5.mmp						support
../Framework/MMPFiles/EComExample6.mmp						support
../Framework/MMPFiles/ecomexample10.mmp						support
../Framework/MMPFiles/ecomexample12invalid.mmp				support
../Framework/MMPFiles/ecomexample12.mmp						support
../Framework/MMPFiles/ecomexample12upgraded.mmp				support
../Framework/MMPFiles/ecomexample12downgraded.mmp			support
../Framework/MMPFiles/ecomexample14.mmp						support
../Framework/MMPFiles/ecomexample14upgraded.mmp				support
../Framework/MMPFiles/ecomexample14invalid.mmp				support
../Framework/MMPFiles/ecomexample15.mmp						support
../Framework/MMPFiles/CachedCustomResolver.mmp				support
../Framework/MMPFiles/CachedCustomResolver2.mmp				support
../Framework/MMPFiles/CachedCustomResolver9.mmp				support
../Framework/MMPFiles/EComExampleBadData.mmp				support
../Framework/MMPFiles/EComExampleBadData1.mmp				support
../Framework/MMPFiles/EComExampleBadData2.mmp				support
../Framework/MMPFiles/HeapTestImpl.mmp						support
//need to uncomment this, to build HeapTestImpl1 when sis file needs to be created for this plugin
//../Framework/MMPFiles/HeapTestImpl1.mmp					support
../Framework/MMPFiles/LanguagePlugin.mmp					support
../Framework/MMPFiles/LanguagePlugin2.mmp					support
../Framework/MMPFiles/EcomNullExample.mmp 					support
../Framework/MMPFiles/EComUpgradeExample1.mmp				support
../Framework/MMPFiles/EComUpgradeExample2.mmp				support
../Framework/MMPFiles/EComUpgradeExample3.mmp				support
../Framework/MMPFiles/EComUpgradeROExample1.mmp				support
../Framework/MMPFiles/EComUpgradeROExample2.mmp				support
../Framework/MMPFiles/EComUpgradeROExample3.mmp				support
../Framework/MMPFiles/DefectPlugin.mmp						support
../Framework/MMPFiles/EComExample7.mmp						support
../Framework/MMPFiles/EComExample8.mmp						support
../Framework/MMPFiles/exampleNine.mmp						support
../Framework/MMPFiles/EComCR629Example1.mmp				support
../Framework/MMPFiles/EComCR629Example2.mmp				support
../Framework/MMPFiles/EComHashExample.mmp				support
../Framework/MMPFiles/EComSwiExample.mmp				support
../Framework/MMPFiles/EComLoadMgrExample1.mmp			support
../Framework/MMPFiles/EComLoadMgrExample2.mmp			support
../Framework/MMPFiles/EComExample16.mmp					support
../Framework/MMPFiles/dummycustomresolver1.mmp			support
../Framework/MMPFiles/dummycustomresolver2.mmp			support
../Framework/MMPFiles/dummycustomresolver3.mmp			support
../Framework/MMPFiles/badproxytable.mmp					support

../Framework/MMPFiles/t_plugindiscovery.mmp
../Framework/MMPFiles/t_capcheck.mmp

../Framework/MMPFiles/t_heaptest.mmp                        manual
../Framework/MMPFiles/t_ecomeikerrorresolver.mmp			manual
../Framework/MMPFiles/t_language.mmp
../Framework/MMPFiles/t_downgrade.mmp						

// Some simple RTest based tests
../Framework/MMPFiles/t_ecomcancel.mmp
../Framework/MMPFiles/t_resolver.mmp
../Framework/MMPFiles/t_romresolver.mmp
../Framework/MMPFiles/t_romonly.mmp
../Framework/MMPFiles/t_listimplementation.mmp
../Framework/MMPFiles/t_extendedinterfaces.mmp
../Framework/MMPFiles/t_defaultresolver.mmp
../Framework/MMPFiles/t_loadmanager.mmp
../Framework/MMPFiles/t_suicide.mmp
../Framework/MMPFiles/t_discoverer.mmp
../Framework/MMPFiles/t_registrar.mmp
../Framework/MMPFiles/t_registrydata.mmp
../Framework/MMPFiles/t_backupnotifier.mmp
../Framework/MMPFiles/t_finalclose.mmp
../Framework/MMPFiles/t_pluginupgrade.mmp
../Framework/MMPFiles/t_drivemount.mmp
../Framework/MMPFiles/t_ecomdefect.mmp
../Framework/MMPFiles/t_rogueplugin.mmp
../Framework/MMPFiles/t_ServerStartupMgr.mmp
../Framework/MMPFiles/T_EComSsaEnabled.mmp
../Framework/MMPFiles/T_EComSsaDisabled.mmp
../Framework/MMPFiles/t_ecomentry.mmp
../Framework/MMPFiles/t_validateregistry.mmp
../Framework/MMPFiles/t_driveinfo.mmp
../Framework/MMPFiles/t_implementationInformation.mmp
../Framework/MMPFiles/t_hashcheck.mmp
../Framework/MMPFiles/t_ecomswi.mmp
../Framework/MMPFiles/t_disabledrives.mmp
../Framework/MMPFiles/t_ecombur.mmp
../Framework/MMPFiles/t_resolverperf.mmp
../Framework/MMPFiles/t_resolvercache.mmp

// Self test library
../Test_Bed/MMPFiles/ComponentInfoTest.mmp
../Framework/MMPFiles/EComTests.mmp
../Framework/MMPFiles/EComServerTest.mmp
../Test_Bed/MMPFiles/DefaultLogOutputTest.mmp 
../Test_Bed/MMPFiles/DataLoggerTest.mmp
../Test_Bed/MMPFiles/TransitionTest.mmp
../Test_Bed/MMPFiles/TestControllerTest.mmp
../Test_Bed/MMPFiles/TestManagerTest.mmp
../Test_Bed/MMPFiles/ComponentTesterTest.mmp
../Test_Bed/MMPFiles/UnitTestTest.mmp

../Framework/MMPFiles/T_PlatSecTest.mmp


// Ignore postbuild if running on GCCXML. GCCXML does not build .dlls, it builds .gxp,
// so the build falls down here without the exception.
#ifndef GCCXML

PRJ_TESTEXTENSIONS 
start extension syslibs/test/ecom3_postbuild
end

start extension syslibs/test/ecom3_relocatetarget
SOURCES cachedcustomresolver2.dll \
	cachedcustomresolver9.dll
OPTION TARGETDIR ramonly
end

#endif

PRJ_TESTEXPORTS
../Group/EComTest.iby 				/epoc32/rom/include/ecomtest.iby
../Group/EcomTechviewTest.iby	    /epoc32/rom/include/ecomtechviewtest.iby 
../Group/ecomtestcommon.iby 		/epoc32/rom/include/ecomtestcommon.iby

../Group/EcomTests.bat				/epoc32/data/z/system/test/ecomtests.bat
../Framework/TestData/EcomTest.spi 	/epoc32/release/winscw/udeb/z/test/data/ecomtest.spi
../Framework/TestData/EcomTest.spi 	/epoc32/release/winscw/urel/z/test/data/ecomtest.spi
../Framework/TestData/EcomTest.spi 	/epoc32/data/z/test/data/ecomtest.spi
../Framework/TestData/ecomtesttype3.spi 	/epoc32/release/winscw/udeb/z/test/data/ecomtesttype3.spi
../Framework/TestData/ecomtesttype3.spi 	/epoc32/release/winscw/urel/z/test/data/ecomtesttype3.spi
../Framework/TestData/ecomtesttype3.spi 	/epoc32/data/z/test/data/ecomtesttype3.spi

../Framework/TestData/ecom-0-2.s02		/epoc32/data/z/test/data/ecom-0-2.s02
../Framework/TestData/ecom-0-3.s03		/epoc32/data/z/test/data/ecom-0-3.s03
../Framework/HeapTestImpl/HeapTestInterface.h	SYMBIAN_OS_LAYER_PLATFORM_EXPORT_PATH(ecom/heaptestinterface.h)

../Framework/TestData/EComSrvr.ini z:/test/data/ecomsrvr.ini

../Framework/TestData/EComTestBehaviour.ini   z:/test/data/ecomtestbehaviour.ini
../Framework/TestData/ECOMTEST.aif z:/test/data/ecomtest.aif

../TestExecute/common/ecomtestutils.iby		/epoc32/rom/include/ecomtestutils.iby

../Framework/DisableDrivesTest/disabledrivestest.hby	/epoc32/rom/include/disabledrivestest.hby

../Framework/TestData/corruptfile.txt 	/epoc32/data/z/test/data/corruptfile.txt
../Framework/TestData/corruptfile.txt 	/epoc32/release/winscw/udeb/z/test/data/corruptfile.txt
../Framework/TestData/corruptfile.txt 	/epoc32/release/winscw/urel/z/test/data/corruptfile.txt

//sis files to be exported for winscw for rtest t_heaptest
../Framework/HeapTestImpl/winscw/HeapTestImpl_winscw.sis  z:/heaptestimpl/heaptestimpl.sis
../Framework/HeapTestImpl/winscw/HeapTestImpl1_winscw.sis z:/heaptestimpl/heaptestimpl1.sis

//sis files to be exported for armv5 for rtest t_heaptest
../Framework/HeapTestImpl/armv5/HeapTestImpl_armv5.sis  z:/heaptestimpl/heaptestimpl_armv5.sis
../Framework/HeapTestImpl/armv5/HeapTestImpl1_armv5.sis z:/heaptestimpl/heaptestimpl1_armv5.sis

// TestExecute test binaries
#include "../TestExecute/EComPerfTest/group/bld.inf"
#include "../TestExecute/EComSWITests/group/bld.inf"
