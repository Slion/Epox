// Copyright (c) 2008-2009 Nokia Corporation and/or its subsidiary(-ies).
// All rights reserved.
// This component and the accompanying materials are made available
// under the terms of "Eclipse Public License v1.0"
// which accompanies this distribution, and is available
// at the URL "http://www.eclipse.org/legal/epl-v10.html".
//
// Initial Contributors:
// Nokia Corporation - initial contribution.
//
// Contributors:
//
// Description:
//

//////////////////////////////////////////////////////////////////
LOAD_SUITE openwfcstreamoptestserver

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0100L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0101L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0102L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0103L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0104L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0105L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0106L

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.CreateSharedNativeStreamL.2
CONCURRENT
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0107_1L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0107_2L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0107_3L
CONSECUTIVE
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.DestroySharedNativeStreamL

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0108L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0109L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0110L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0111L

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.CreateSharedNativeStreamL.2
CONCURRENT
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_1L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_2L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_3L
CONSECUTIVE
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.DestroySharedNativeStreamL


// Test SubmitUpdate in parallel with adding and removing observers
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.CreateSharedNativeStreamL.2
CONCURRENT
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_1L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_2L
RUN_TEST_STEP 4000 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0112_4L
CONSECUTIVE
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.DestroySharedNativeStreamL


RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0113L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0114L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0115L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0116L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0117_1L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0117_2L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0117_3L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0117_4L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0118_1L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0118_2L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0118_3L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0118_4L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0119_1L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0119_2L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0119_3L

// Test KErrOverflow is returned when producer is submitting buffer updates too quickly
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0120_1L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0120_2L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0120_3L

// Test notification status objects are completed with KErrCancel when all sources are destroyed.
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0122L

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0130L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0131L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0132L

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0133L

RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0140L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0141L
RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0142L
//RUN_TEST_STEP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0143L
RUN_TEST_STEP !PanicCode=1000008 !PanicString=WF-INTEROP 100 openwfcstreamoptestserver TEFUnit.CTestNativeStream.GRAPHICS_OPENWFC_NATIVESTREAM_0144L
